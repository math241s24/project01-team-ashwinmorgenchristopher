---
title: "Project Presentation"
subtitle: "The data we have chosen"
format: 
  revealjs
highlight-style: a11y
execute:
  code-link: true
  echo: true
editor_options: 
  chunk_output_type: console
---

```{r}
library(tidyverse)
library(dplyr)
library(rvest)
library(httr)
library(readr)
library(readr)
```


# Start 

## Outline

* Your presentation should generally follow the same structure as your write-up. 

* Each team will have 5 minutes for their presentation, and each team member must speak (roughly equally) during this time. 

* Your presentation will be created using `Quarto`, which allows you to write slides using the same coding structure you’re used to with `Rmarkdown`. 

* This is a sample Quarto slide template you can edit to your desire to create your presentation. 

## Rubric

* Roughly I recommend 1 slide for introduction, 2 slides for Question 1, ans 2 slides for Question 2. 
  + You can imagine spending roughly one minute on each slide.
  + You should feel free to have more (or fewer) slides. 
  
* Your evaluation will be based on your content, professionalism (including sticking to time), and your performance during the Q&A (question and answer). We don’t care how many slides you use to do this.

## Introduction {.smaller}

+ ddnefn
  - dnkef
  
+ nff
  - dekfm
  
This data comes from the PopulationStatistics {refugees} R package.{refugees} is an R package that is designed to give people access to the United Nations High Commissioner for Refugees (UNHCR) Refugee Data Finder. It provides an easy-to-use interface to the database, which covers forcibly displaced populations. This includes refugees, asylum-seekers, internally displaced people, stateless people, and others over a span of more than 70 years. Data from this packages comes from three major sources: Data from UNHCR’s annual statistical activities dating back to 1951, Data from the United Nations Relief and Works Agency for Palestine Refugees in the Near East (UNRWA), Data from the Internal Displacement Monitoring Centre (IDMC) on people displaced within their country due to conflict or violence. The {refugees} package includes eight datasets. We'll specifically be working with population data from 2010 to 2022. This dataset has 126262 observations and 16 variables. The following are each of the 16 variables available in this dataset.

## Q1
question + approach 

## Q1
graphs + discussion 
<<<<<<< Updated upstream
```{r, echo=FALSE}
url <- "https://en.wikipedia.org/wiki/List_of_countries_by_population_(United_Nations)"

## Scrape html and store table

#Grab all the tables and then navigate to the one you wanted.
tables <- url %>%
  read_html() %>%
  html_nodes(css = "table")

#Grab the specific table
wiki_country_pop_tbl <- html_table(tables[[1]], fill = TRUE) %>%
  filter(row_number() > 1)
colnames(wiki_country_pop_tbl)[4] <- "Population"
wiki_country_pop_tbl <- select(wiki_country_pop_tbl, 'Location', 'Population')
wiki_country_pop_tbl[wiki_country_pop_tbl == 'China[a]'] <- 'China'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Tanzania[b]'] <- 'Tanzania'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'France[c]'] <- 'France'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Spain[d]'] <- 'Spain'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Ukraine[e]'] <- 'Ukraine'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Australia[f]'] <- 'Australia'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Ukraine[e]'] <- 'Ukraine'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Somalia[h]'] <- 'Somalia'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Taiwan[g]'] <- 'Taiwan'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Netherlands[i]'] <- 'Netherlands'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Portugal[j]'] <- 'Portugal'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Hong Kong (China)[k]'] <- 'Hong Kong'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Serbia[l]'] <- 'Serbia'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Finland[m]'] <- 'Finland'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Norway[n]'] <- 'Norway'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Palestine[o]'] <- 'Palestine'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Georgia[p]'] <- 'Georgia'
wiki_country_pop_tbl[wiki_country_pop_tbl == 'Moldova[q]'] <- 'Moldova'
wiki_country_pop_tbl$Population = parse_number(wiki_country_pop_tbl$Population, )



population <- read_csv("project01-team-ashwinmorgenchristopher/data/population.csv")

colnames(population)[colnames(population) == 'coo_name'] <- 'Location'
populations_wiki_coo <- merge(population, wiki_country_pop_tbl, by = "Location")

colnames(population)[colnames(population) == 'Location'] <- 'coo_name'
colnames(population)[colnames(population) == 'coa_name'] <- 'Location'
populations_wiki_coa <- merge(population, wiki_country_pop_tbl, by = "Location")
```

```{r}
#| echo: false
#| warning: false
#| message: false
#| fig.asp: .5


#populations <- read_csv("data/population.csv")

populations22 <- populations %>%
  filter(year == 2022) 

populations22_coo <- populations22 %>%
  group_by(coo) %>%
  summarize(total_refugees_and_asylum_seekers = sum(refugees + asylum_seekers))

populations22_coa <- populations22 %>%
  group_by(coa) %>%
  summarize(total_refugees_and_asylum_seekers = sum(refugees + asylum_seekers))



populations22_wiki_o <- populations_wiki_coa %>%  #The population with respect to the origin
  filter(year == 2022) 

populations22_wiki_a <- populations_wiki_coo %>%  #The population with respect to the asylum
  filter(year == 2022) 

populations22_wiki_coo <- populations22_wiki_o %>%
  group_by(coo) %>%
  summarize(pop_div_refugee = Population / sum(refugees + asylum_seekers))

populations22_wiki_coa <- populations22_wiki_a %>%
  group_by(coa) %>%
  summarize(pop_div_refugee = Population / sum(refugees + asylum_seekers))



populations22_coo %>% 
  arrange(-total_refugees_and_asylum_seekers) %>%
  head(n=10) %>%
  ggplot(aes(y=total_refugees_and_asylum_seekers, x = coo, fill=coo)) +
  geom_col()

populations22_coa %>% 
  arrange(-total_refugees_and_asylum_seekers) %>%
  head(n=10) %>%
  ggplot(aes(y=total_refugees_and_asylum_seekers, x = coa, fill=coa)) +
  geom_col()

populations22_wiki_coa %>% 
  arrange(-pop_div_refugee) %>%
  head(n=10) %>%
  ggplot(aes(y=pop_div_refugee, x = coa, fill=coa)) +
  geom_col()

populations22_wiki_coo %>% 
  arrange(-pop_div_refugee) %>%
  head(n=10) %>%
  ggplot(aes(y=pop_div_refugee, x = coo, fill=coo)) +
  geom_col()
```

## Q1

```{r}
#| echo: false
#| warning: false
#| message: false
#| fig.asp: .5


populations22_coa %>% 
  arrange(-total_refugees_and_asylum_seekers) %>%
  head(n=10) %>%
  ggplot(aes(y=total_refugees_and_asylum_seekers, x = coa, fill=coa)) +
  geom_col()
```

## Q2
question + approach 

## Q2
graphs + discussion 
```{r, echo=FALSE}

```